<html>
  <head>
    <title>Sample web application</title>
    <link rel="stylesheet" type="css/text" media="screen" href="sample.css"/>
  </head>
  <body>
    <form id="formId">
      Name
      <input type="text" name="name" id="nameField"  />
      <input type="submit" value="send" />
    </form>
    <form id="searchForm">
      Search
      <input type="text" name="name" id="nameSearch"  />
      <input type="submit" value="search" />
    </form>

    <div id="response">
    </div>

    <script src="js/common.js"></script>
    <script>

function onSearch(e) {
  e.preventDefault();

  var ajax = new Ajax();
  ajax.addField('nameSearch');
  ajax.send('/search', onResponse, onError);
}

function onFormSubmit(e) {
  e.preventDefault();

  var ajax = new Ajax();
  ajax.addField('nameField');
  ajax.send('/hello', onResponse, onError);
}

function onResponse(response) {
  var responseElement = document.getElementById('response');
  responseElement.innerHTML = response;
}

function onError() {
  alert('Something went wrong');
}

function init() {
  var form = document.getElementById('formId');
  form.addEventListener('submit', onFormSubmit);
  var searchForm = document.getElementById('searchForm');
  searchForm.addEventListener('submit', onSearch);
}

window.addEventListener('load', init);

    </script>
  </body>
</html>
